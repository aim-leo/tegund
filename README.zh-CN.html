<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>tegund</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="">
    
    <link rel="preload" href="/tegund/assets/css/0.styles.aad6d7c1.css" as="style"><link rel="preload" href="/tegund/assets/js/app.db4bd2f9.js" as="script"><link rel="preload" href="/tegund/assets/js/2.6dee3ee0.js" as="script"><link rel="preload" href="/tegund/assets/js/8.66c28c5c.js" as="script"><link rel="prefetch" href="/tegund/assets/js/3.fba053ba.js"><link rel="prefetch" href="/tegund/assets/js/4.a000205a.js"><link rel="prefetch" href="/tegund/assets/js/5.ef185f96.js"><link rel="prefetch" href="/tegund/assets/js/6.03e2144b.js"><link rel="prefetch" href="/tegund/assets/js/7.78eb8b9e.js">
    <link rel="stylesheet" href="/tegund/assets/css/0.styles.aad6d7c1.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/tegund/" class="home-link router-link-active"><!----> <span class="site-name">tegund</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">Languages</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/tegund/README.zh-CN.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  简体中文
</a></li><li class="dropdown-item"><!----> <a href="/tegund/" class="nav-link">
  English
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/aim-leo/tegund" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">Languages</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/tegund/README.zh-CN.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  简体中文
</a></li><li class="dropdown-item"><!----> <a href="/tegund/" class="nav-link">
  English
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/aim-leo/tegund" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span></span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/tegund/README.zh-CN.html#简介" class="sidebar-link">简介</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/tegund/README.zh-CN.html#示例" class="sidebar-link">示例</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/tegund/README.zh-CN.html#安装使用" class="sidebar-link">安装使用</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/tegund/README.zh-CN.html#api" class="sidebar-link">API</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/tegund/README.zh-CN.html#校验器" class="sidebar-link">校验器</a></li><li class="sidebar-sub-header"><a href="/tegund/README.zh-CN.html#类型" class="sidebar-link">类型</a></li><li class="sidebar-sub-header"><a href="/tegund/README.zh-CN.html#原型" class="sidebar-link">原型</a></li><li class="sidebar-sub-header"><a href="/tegund/README.zh-CN.html#修饰符" class="sidebar-link">修饰符</a></li><li class="sidebar-sub-header"><a href="/tegund/README.zh-CN.html#错误" class="sidebar-link">错误</a></li><li class="sidebar-sub-header"><a href="/tegund/README.zh-CN.html#自定义类型" class="sidebar-link">自定义类型</a></li></ul></li><li><a href="/tegund/README.zh-CN.html#license" class="sidebar-link">License</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><p align="center"><img width="320" src="/tegund/logo.svg"></p> <h3 align="center" style="text-align:center;">
  简单易用的javascript类型校验工具
</h3> <br> <br> <br> <p>简体中文 | <a href="/tegund/" class="router-link-active">English</a></p> <h2 id="简介"><a href="#简介" class="header-anchor">#</a> 简介</h2> <p><strong>tegund</strong>是一个非常简单直观的javascript类型检验库。特点概述:</p> <ul><li><strong>体积小</strong> : 完整的大小只有4.9kb (gzip压缩后)，不依赖其他第三方库；</li> <li><strong>类型丰富</strong> : 提供数十种基本类型；</li> <li><strong>易扩展</strong> : 允许您在基本类型中分化出新的类型；</li></ul> <hr> <h2 id="示例"><a href="#示例" class="header-anchor">#</a> 示例</h2> <p>基本使用</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> object<span class="token punctuation">,</span> string<span class="token punctuation">,</span> number<span class="token punctuation">,</span> integer<span class="token punctuation">,</span> date<span class="token punctuation">,</span> array <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'tegund'</span><span class="token punctuation">)</span>

<span class="token comment">// basic type check</span>
<span class="token function">string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">check</span><span class="token punctuation">(</span><span class="token string">'abc'</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
<span class="token function">number</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">check</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token comment">// false</span>

<span class="token comment">// addtional condition</span>
<span class="token function">string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">check</span><span class="token punctuation">(</span><span class="token string">'abc'</span><span class="token punctuation">)</span>  <span class="token comment">// false</span>

<span class="token comment">// object</span>
<span class="token function">object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">check</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
<span class="token function">object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">check</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// false</span>

<span class="token comment">// group</span>
<span class="token keyword">const</span> group <span class="token operator">=</span> <span class="token function">object</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token function">string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token string">'integer'</span>  <span class="token comment">// use alias, equal to integer()</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

group<span class="token punctuation">.</span><span class="token function">check</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
group<span class="token punctuation">.</span><span class="token function">check</span><span class="token punctuation">(</span><span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'leo'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">18</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// true</span>

<span class="token comment">// array</span>
<span class="token function">array</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">check</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'abc'</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token boolean">true</span>

<span class="token comment">// typed array</span>
<span class="token function">array</span><span class="token punctuation">(</span><span class="token function">string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">check</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'abc'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
<span class="token comment">// or use alias</span>
<span class="token function">array</span><span class="token punctuation">(</span><span class="token string">'string'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">check</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'abc'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// false</span>

<span class="token comment">// a array containe string or number</span>
<span class="token function">array</span><span class="token punctuation">(</span><span class="token string">'string'</span><span class="token punctuation">,</span> <span class="token string">'number'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">check</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'abc'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// true</span>

</code></pre></div><p>下面我们用tegund校验更加复杂的场景。
假设我们要创建一张用户表，使用tegund来校验输入的内容：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> object<span class="token punctuation">,</span> string<span class="token punctuation">,</span> integer<span class="token punctuation">,</span> date<span class="token punctuation">,</span> array <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'tegund'</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> <span class="token keyword">interface</span> <span class="token operator">=</span> <span class="token function">object</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token function">string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token comment">// the user name must be a string and at 2-10</span>
  age<span class="token operator">:</span> <span class="token function">integer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">positive</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token comment">// age must be a positive integer number</span>
  address<span class="token operator">:</span> <span class="token function">object</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  <span class="token comment">// the address is a object</span>
	province<span class="token operator">:</span> <span class="token function">string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	city<span class="token operator">:</span> <span class="token string">'string'</span><span class="token punctuation">,</span>  <span class="token comment">// use alias, it is same at string()</span>
	county<span class="token operator">:</span> <span class="token string">'string'</span><span class="token punctuation">,</span>
	addressDetail<span class="token operator">:</span> <span class="token string">'string'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  email<span class="token operator">:</span> <span class="token function">string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">pattern</span><span class="token punctuation">(</span>  <span class="token comment">// you can add addtional pattern and error message</span>
    <span class="token operator">/</span><span class="token operator">^</span>\w<span class="token operator">+</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token operator">+</span><span class="token punctuation">.</span><span class="token punctuation">]</span>\w<span class="token operator">+</span><span class="token punctuation">)</span><span class="token operator">*</span>@\w<span class="token operator">+</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token punctuation">.</span><span class="token punctuation">]</span>\w<span class="token operator">+</span><span class="token punctuation">)</span><span class="token operator">*</span>\<span class="token punctuation">.</span>\w<span class="token operator">+</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token punctuation">.</span><span class="token punctuation">]</span>\w<span class="token operator">+</span><span class="token punctuation">)</span><span class="token operator">*</span>$<span class="token operator">/</span><span class="token punctuation">,</span>
    <span class="token string">'Please enter a correct email address'</span>
  <span class="token punctuation">)</span><span class="token punctuation">,</span>
  pwd<span class="token operator">:</span> <span class="token function">string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">pattern</span><span class="token punctuation">(</span>
    <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
    <span class="token string">'Please enter a password with more than 8 digits, including numbers and letters'</span>
  <span class="token punctuation">)</span><span class="token punctuation">,</span>
  tag<span class="token operator">:</span> <span class="token function">array</span><span class="token punctuation">(</span><span class="token string">'string'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token comment">// tag must be a array&lt;string&gt;</span>
  remark<span class="token operator">:</span> <span class="token function">string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">optional</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token comment">// this field is optional</span>
  createTime<span class="token operator">:</span> <span class="token function">date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forbid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token comment">// can not provide a createTime prop</span>
  updateTime<span class="token operator">:</span> <span class="token function">date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forbid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// then validate the params</span>
<span class="token keyword">const</span> args <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token comment">// test it, is pass, get a undefined, if not, will get a ValidateError</span>
<span class="token keyword">const</span> err <span class="token operator">=</span> <span class="token keyword">interface</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span>
<span class="token comment">// if pass, will get a true</span>
<span class="token keyword">const</span> passed <span class="token operator">=</span> <span class="token keyword">interface</span><span class="token punctuation">.</span><span class="token function">check</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span>

<span class="token comment">// or you can use assert</span>
<span class="token comment">// if not pass, will throw a error</span>
<span class="token keyword">interface</span><span class="token punctuation">.</span><span class="token function">assert</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span>
</code></pre></div><p>错误信息：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&gt;&gt;&gt;</span><span class="token operator">&gt;&gt;</span> <span class="token keyword">interface</span><span class="token punctuation">.</span><span class="token function">assert</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">&lt;&lt;</span><span class="token operator">&lt;&lt;</span><span class="token operator">&lt;</span> ValidateError<span class="token operator">:</span> None is not a Object type

<span class="token operator">&gt;&gt;&gt;</span><span class="token operator">&gt;&gt;</span> <span class="token keyword">interface</span><span class="token punctuation">.</span><span class="token function">assert</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&lt;&lt;</span><span class="token operator">&lt;&lt;</span><span class="token operator">&lt;</span> ValidateError<span class="token operator">:</span> field name validate error<span class="token punctuation">,</span> expected a String type<span class="token punctuation">,</span> got a <span class="token punctuation">[</span>object Undefined<span class="token punctuation">]</span>

<span class="token operator">&gt;&gt;&gt;</span><span class="token operator">&gt;&gt;</span> <span class="token keyword">interface</span><span class="token punctuation">.</span><span class="token function">assert</span><span class="token punctuation">(</span><span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&lt;&lt;</span><span class="token operator">&lt;&lt;</span><span class="token operator">&lt;</span> ValidateError<span class="token operator">:</span> field name validate error<span class="token punctuation">,</span> expected a String<span class="token punctuation">,</span> length gte than <span class="token number">2</span><span class="token punctuation">,</span> but got a length<span class="token operator">:</span> <span class="token number">0</span>

<span class="token operator">&gt;&gt;&gt;</span><span class="token operator">&gt;&gt;</span> <span class="token keyword">interface</span><span class="token punctuation">.</span><span class="token function">assert</span><span class="token punctuation">(</span><span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">'leo'</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&lt;&lt;</span><span class="token operator">&lt;&lt;</span><span class="token operator">&lt;</span> ValidateError<span class="token operator">:</span> field age validate error<span class="token punctuation">,</span> expected a Integer type<span class="token punctuation">,</span> got a <span class="token punctuation">[</span>object Undefined<span class="token punctuation">]</span>

<span class="token comment">// and so on...</span>
</code></pre></div><h2 id="安装使用"><a href="#安装使用" class="header-anchor">#</a> 安装使用</h2> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 安装 tegund</span>
<span class="token function">npm</span> i tegund
</code></pre></div><h2 id="api"><a href="#api" class="header-anchor">#</a> API</h2> <h3 id="校验器"><a href="#校验器" class="header-anchor">#</a> 校验器</h3> <p><strong>Validator</strong>是一系列校验最基础数据类型的函数集合，包含了：</p> <ul><li><code>isString</code></li></ul> <p><strong>用途</strong>：用于校验输入的值是否是字符串
<strong>参数</strong>：可接受多个待校验的值，当所有参数都校验通过返回 <code>true</code></p> <p><strong>使用方法</strong>：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> isString <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'tegund'</span><span class="token punctuation">)</span>

<span class="token function">isString</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
<span class="token function">isString</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>  <span class="token comment">// false</span>
<span class="token function">isString</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre></div><p>类似的校验器还有：</p> <ul><li><code>isArray</code> 是否是数组</li> <li><code>isBoolean</code>  是否是布尔值</li> <li><code>isFunction</code>  是否是函数</li> <li><code>isSyncFunction</code>  是否是同步函数</li> <li><code>isAsyncFunction</code> 是否是异步函数</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">isSyncFunction</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
<span class="token function">isSyncFunction</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
<span class="token function">isSyncFunction</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// false</span>

<span class="token function">isAsyncFunction</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// true</span>

<span class="token function">isFunction</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
<span class="token function">isFunction</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre></div><ul><li><code>isNaN</code> 是否是NaN</li> <li><code>isNumber</code> 是否是数字</li> <li><code>isInteger</code> 是否是整数</li> <li><code>isFloat</code> 是否是浮点数</li> <li><code>isSymbol</code>是否是Symbol</li> <li><code>isUndefined</code>  是否是undefined</li> <li><code>isObject</code>  是否是Object</li> <li><code>isNull</code> 是否是null</li> <li><code>isPromise</code> 是否是Promise</li> <li><code>isRegExp</code> 是否是正则表达式</li> <li><code>isDate</code> 是否是Date</li> <li><code>isSet</code> 是否是Set</li> <li><code>isEmpty</code>  如果检测值是‘’ 0 undefined null NaN, 返回true</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span> <span class="token number">NaN</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre></div><h3 id="类型"><a href="#类型" class="header-anchor">#</a> 类型</h3> <p><strong>Types</strong>用于校验更复杂的场景，我们提供了一系列的类型，这些类型实际上是一个<code>function</code>,返回值是一个<code>T</code>对象，在下面的文档中会讲到</p> <h4 id="基础类型"><a href="#基础类型" class="header-anchor">#</a> 基础类型</h4> <p>基础类型只有单一类型，没有子类型。
所有内设的基础类型有：</p> <ul><li><code>string</code></li></ul> <p><strong>用途</strong>：用于校验输入的值是否是字符串</p> <p><strong>使用方法</strong>：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> string <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'tegund'</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> stringT <span class="token operator">=</span> <span class="token function">string</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">// you will got a stringT, which instanceof T</span>
<span class="token comment">// then validate</span>
stringT<span class="token punctuation">.</span><span class="token function">check</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">)</span>
</code></pre></div><p>如你所料，我们还有下面这一系列基础类型：</p> <ul><li><code>boolean</code></li> <li><code>function</code>   为避免命名冲突， 也可使用 <code>func</code>代替</li> <li><code>syncfunction</code></li> <li><code>asyncfunction</code></li> <li><code>nan</code></li> <li><code>number</code></li> <li><code>integer</code></li> <li><code>float</code></li> <li><code>symbol</code></li> <li><code>undefined</code>  为避免命名冲突， 也可使用 <code>undef</code>代替</li> <li><code>null</code></li> <li><code>promise</code></li> <li><code>regexp</code></li> <li><code>date</code></li> <li><code>set</code></li> <li><code>empty</code></li></ul> <h4 id="复合类型"><a href="#复合类型" class="header-anchor">#</a> 复合类型</h4> <p>复合类型允许对子元素的类型进行定义，有了复合类型，我们可以对更多复杂场景作校验：</p> <ul><li><code>array</code></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 当不需要校验子元素时，不传值</span>
<span class="token function">array</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// 假设需要子元素都是字符串</span>
<span class="token comment">// 可传入一个string()作为参数</span>
<span class="token function">array</span><span class="token punctuation">(</span><span class="token function">string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">// 或者使用别名</span>
<span class="token function">array</span><span class="token punctuation">(</span><span class="token string">'string'</span><span class="token punctuation">)</span>

<span class="token comment">// 假设子元素的内容可以是字符串或数字， 可传入多个类型</span>
<span class="token function">array</span><span class="token punctuation">(</span><span class="token function">string</span><span class="token punctuation">(</span><span class="token punctuation">)</span>， <span class="token function">number</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// or array('string', 'number')</span>

<span class="token comment">// 假设需要数组第一项是字符串，第二项是数字, 则传入一个数组</span>
<span class="token function">array</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token function">string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">number</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">// 或者</span>
<span class="token function">array</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'string'</span><span class="token punctuation">,</span> <span class="token string">'number'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><ul><li><code>object</code><br>
object类型用于定义一个集合</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 当不需要校验传入对象的属性时</span>
<span class="token function">object</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// 假设希望该对象具有一个string类型的name属性</span>
<span class="token function">object</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token function">string</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// 或者使用别名</span>
<span class="token function">object</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'string'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// 假设有更为复杂的场景，比如希望有一个属性a，它是一个对象，这个对象包含一个字符串类型的属性b</span>
<span class="token function">object</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  a<span class="token operator">:</span> <span class="token function">object</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    b<span class="token operator">:</span> <span class="token function">string</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// 这样有点难看，我们还可以省略第二级的object</span>
<span class="token function">object</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  a<span class="token operator">:</span> <span class="token punctuation">{</span>
    b<span class="token operator">:</span> <span class="token string">'string'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h4 id="特殊类型"><a href="#特殊类型" class="header-anchor">#</a> 特殊类型</h4> <ul><li><code>at</code> <strong>at</strong>用于创建更为复杂的场景，有时候我们希望可以同时支持多种类型</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 比如希望输入的值可以是字符串或者数字</span>
<span class="token function">at</span><span class="token punctuation">(</span><span class="token function">string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">number</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">// 使用别名</span>
<span class="token function">at</span><span class="token punctuation">(</span><span class="token string">'string'</span><span class="token punctuation">,</span> <span class="token string">'number'</span><span class="token punctuation">)</span>
</code></pre></div><ul><li><code>notat</code> <strong>notat</strong>正好相反，表示都不是</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 比如希望输入的值既不是字符串也不是数字</span>
<span class="token function">notat</span><span class="token punctuation">(</span><span class="token function">string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">number</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">// 使用别名</span>
<span class="token function">notat</span><span class="token punctuation">(</span><span class="token string">'string'</span><span class="token punctuation">,</span> <span class="token string">'number'</span><span class="token punctuation">)</span>
</code></pre></div><ul><li><code>any</code> <strong>any</strong>可以用于匹配任何类型</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 通常用来作站位符号，比如希望对象具有a属性，但是不关心a属性具体是什么值</span>
<span class="token function">object</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  a<span class="token operator">:</span> <span class="token function">any</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><ul><li><code>never</code> <strong>never</strong>用于匹配一个不存在的类型</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 通常用来作站位符号，比如不希望对象具有a属性</span>
<span class="token function">object</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  a<span class="token operator">:</span> <span class="token function">never</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="原型"><a href="#原型" class="header-anchor">#</a> 原型</h3> <p>如上面的文档说的那样，我们使用类型函数调用来获取类型，实际上，上面每一个函数调用后都会获得一个内置的原型对象：</p> <h4 id="t"><a href="#t" class="header-anchor">#</a> <code>T</code></h4> <blockquote><p>在typescript中，一般把T当作泛型，tegund的T没有这层含义，它只是一个很普通的class</p></blockquote> <p>构建一个空白的类型对象：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> <span class="token constant">T</span> <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'tegund'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> t <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">T</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

t<span class="token punctuation">.</span><span class="token function">check</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span>  <span class="token comment">// true</span>
</code></pre></div><h5 id="实例方法"><a href="#实例方法" class="header-anchor">#</a> 实例方法</h5> <p>校验：</p> <ul><li><code>test(data1, data2...)</code> 用于校验提供的数据，当校验不通过时返回一个<code>ValidateError</code></li> <li><code>check(data1, data2...)</code> 用于校验提供的数据，当校验不通过时返回<code>false</code></li> <li><code>assert(data1, data2...)</code>断言，用于校验提供的数据，当校验不通过抛出一个<code>ValidateError</code></li></ul> <p>下面的方法支持链式调用，即始终返回当前对象T</p> <ul><li><code>forbid(flag)</code>该字段是否禁止输入， flag默认<code>true</code>, 传入<code>false</code>时表示不禁止， 返回当前对象</li> <li><code>instance(parent)</code> 是否是parent的实例， 返回当前对象</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> <span class="token constant">T</span> <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'tegund'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> t <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">T</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

t<span class="token punctuation">.</span><span class="token function">instance</span><span class="token punctuation">(</span>Error<span class="token punctuation">)</span>

t<span class="token punctuation">.</span><span class="token function">check</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span>  <span class="token comment">// false</span>
t<span class="token punctuation">.</span><span class="token function">check</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre></div><ul><li><code>or(t)</code> 或者， 返回当前对象</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> t <span class="token operator">=</span> <span class="token function">string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">or</span><span class="token punctuation">(</span><span class="token function">number</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

t<span class="token punctuation">.</span><span class="token function">check</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span>  <span class="token comment">// true</span>
t<span class="token punctuation">.</span><span class="token function">check</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>  <span class="token comment">// true</span>
t<span class="token punctuation">.</span><span class="token function">check</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>  <span class="token comment">// false</span>
</code></pre></div><ul><li><code>addValidator(v)</code> 添加一个自定义校验器， 如果已存在同名校验器则覆盖， 返回当前对象</li></ul> <p>参数：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// v必须是一个对象，且含有validator属性, name 和 message可选</span>
<span class="token function">object</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
 name<span class="token operator">:</span> <span class="token function">string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">optional</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
 message<span class="token operator">:</span> <span class="token function">string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">optional</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">,</span>
 validator<span class="token operator">:</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>例如：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> t <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">T</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

t<span class="token punctuation">.</span><span class="token function">addValidator</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'stringEqualTo1'</span><span class="token punctuation">,</span>
  <span class="token function-variable function">validator</span><span class="token operator">:</span> <span class="token parameter">val</span> <span class="token operator">=&gt;</span> val <span class="token operator">===</span> <span class="token string">'1'</span><span class="token punctuation">,</span>
  message<span class="token operator">:</span> <span class="token string">'val expected equal to &quot;1&quot;'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

t<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span>  <span class="token comment">// ValidateError val expected equal to &quot;1&quot;</span>
t<span class="token punctuation">.</span><span class="token function">check</span><span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">)</span>  <span class="token comment">// true</span>
</code></pre></div><ul><li><code>removeValidator(vname)</code> 根据名称移除自定义校验器， 返回当前对象</li></ul> <p>接上例：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>t<span class="token punctuation">.</span><span class="token function">removeValidator</span><span class="token punctuation">(</span><span class="token string">'stringEqualTo1'</span><span class="token punctuation">)</span>

t<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span>  <span class="token comment">// undefined</span>
</code></pre></div><ul><li><code>optional(falg)</code> 是否可选填，flag默认<code>true</code></li> <li><code>enum(list)</code> 是否在list范围里面</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> t <span class="token operator">=</span> <span class="token function">string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">enum</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
t<span class="token punctuation">.</span><span class="token function">check</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span>  <span class="token comment">// false</span>
t<span class="token punctuation">.</span><span class="token function">check</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span>  <span class="token comment">// true</span>
</code></pre></div><ul><li><code>clone()</code> 克隆当前对象，返回一个和当前对象一致且不关联的对象T</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> t <span class="token operator">=</span> <span class="token function">string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
t<span class="token punctuation">.</span><span class="token function">check</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span>  <span class="token comment">// false</span>

<span class="token keyword">const</span> t2 <span class="token operator">=</span> t<span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
t<span class="token punctuation">.</span><span class="token function">check</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span>  <span class="token comment">// true</span>
</code></pre></div><h4 id="arrayt"><a href="#arrayt" class="header-anchor">#</a> <code>ArrayT</code></h4> <p><strong>ArrayT</strong>用于创建数组形式的是校验类型，它继承至<code>T</code></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">array</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">instanceof</span> <span class="token class-name">ArrayT</span> <span class="token comment">// true</span>
<span class="token comment">// 用法</span>
<span class="token keyword">const</span> arrayT <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayT</span><span class="token punctuation">(</span><span class="token function">string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">number</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><h4 id="objectt"><a href="#objectt" class="header-anchor">#</a> <code>ObjectT</code></h4> <p><strong>ObjectT</strong>用于创建对象形式的是校验类型，它继承至<code>T</code></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">object</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">instanceof</span> <span class="token class-name">ObjectT</span> <span class="token comment">// true</span>
<span class="token comment">// 用法</span>
<span class="token keyword">const</span> objectT <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectT</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token function">string</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h5 id="实例方法-2"><a href="#实例方法-2" class="header-anchor">#</a> 实例方法</h5> <ul><li><code>strict(flag)</code> 检测对象是否有定义范围外的属性</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> t <span class="token operator">=</span> <span class="token function">object</span><span class="token punctuation">(</span><span class="token punctuation">{</span> a<span class="token operator">:</span> <span class="token function">string</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
t<span class="token punctuation">.</span><span class="token function">check</span><span class="token punctuation">(</span><span class="token punctuation">{</span> a<span class="token operator">:</span> <span class="token string">'abc'</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// true</span>

t<span class="token punctuation">.</span><span class="token function">strict</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
t<span class="token punctuation">.</span><span class="token function">check</span><span class="token punctuation">(</span><span class="token punctuation">{</span> a<span class="token operator">:</span> <span class="token string">'abc'</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
</code></pre></div><ul><li><code>testProvided(data1, data2...)</code> 只检测对象已提供的属性</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> t <span class="token operator">=</span> <span class="token function">object</span><span class="token punctuation">(</span><span class="token punctuation">{</span> a<span class="token operator">:</span> <span class="token function">string</span><span class="token punctuation">(</span><span class="token punctuation">)</span>，b<span class="token operator">:</span> <span class="token function">number</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
t<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">{</span> a<span class="token operator">:</span> <span class="token string">'abc'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// can not pass</span>

t<span class="token punctuation">.</span><span class="token function">testProvided</span><span class="token punctuation">(</span><span class="token punctuation">{</span> a<span class="token operator">:</span> <span class="token string">'abc'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// pass, will ignore b, because it wasn't provided</span>
</code></pre></div><ul><li><code>extend(t1, t2...)</code> 继承其他ObjectT的属性</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> baseSchema <span class="token operator">=</span> <span class="token function">object</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  id<span class="token operator">:</span> <span class="token function">integer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  name<span class="token operator">:</span> <span class="token function">string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  createTime<span class="token operator">:</span> <span class="token function">date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  updateTime<span class="token operator">:</span> <span class="token function">date</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> postMixinSchema <span class="token operator">=</span> <span class="token function">object</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  content<span class="token operator">:</span> <span class="token function">string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token number">5000</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// the postSchema will have all of baseSchema and postMixinSchema's props</span>
<span class="token keyword">const</span> postSchema <span class="token operator">=</span> <span class="token function">object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span>baseSchema<span class="token punctuation">,</span> postMixinSchema<span class="token punctuation">)</span>
</code></pre></div><h4 id="att"><a href="#att" class="header-anchor">#</a> <code>AtT</code></h4> <p><strong>AtT</strong>用于创建多种可能形式的类型，它继承至<code>T</code></p> <h4 id="notatt"><a href="#notatt" class="header-anchor">#</a> <code>NotAtT</code></h4> <p><strong>NotAtT</strong>用于创建多种可能形式的类型，它继承至<code>AtT</code></p> <h4 id="nevert"><a href="#nevert" class="header-anchor">#</a> <code>NeverT</code></h4> <p><strong>NeverT</strong>用于创建多种可能形式的类型，它继承至<code>T</code></p> <h3 id="修饰符"><a href="#修饰符" class="header-anchor">#</a> 修饰符</h3> <p>tegund 支持链式调用，即每一个除校验之外的方法，都是默认返回对象本身，这使得tegund非常直观且容易组合。
除了基本的类型校验外，tegund还支持许多内置的修饰符，这些修饰符也会返回当前对象：</p> <h4 id="string"><a href="#string" class="header-anchor">#</a> String</h4> <ul><li><p><code>min(num, errorMessage)</code> 最小长度</p></li> <li><p><code>max(num, errorMessage)</code> 最大长度</p></li> <li><p><code>length(num, errorMessage)</code> 长度</p></li> <li><p><code>pattern(p, errorMessage)</code> 添加正则校验, 是否可以通过正则p的验证</p></li> <li><p><code>contain(str, errorMessage)</code> 是否含有str片段</p></li> <li><p><code>numeric()</code> 纯数字字符</p></li> <li><p><code>alpha()</code> 纯字母字符</p></li> <li><p><code>alphaNumeric()</code> 纯数字加字母字符</p></li> <li><p><code>hex()</code> 纯十六进制字符</p></li> <li><p><code>base64()</code> base64字符</p></li></ul> <h4 id="number"><a href="#number" class="header-anchor">#</a> Number</h4> <ul><li><p><code>min(num, errorMessage)</code> 最小值</p></li> <li><p><code>max(num, errorMessage)</code> 最大值</p></li> <li><p><code>pattern(p, errorMessage)</code> 添加正则校验</p></li> <li><p><code>positive()</code> 正数</p></li> <li><p><code>negative()</code> 负数</p></li></ul> <h4 id="date"><a href="#date" class="header-anchor">#</a> Date</h4> <ul><li><code>min(date, errorMessage)</code> 最小日期</li> <li><code>max(date errorMessage)</code> 最大日期</li></ul> <h4 id="array"><a href="#array" class="header-anchor">#</a> Array</h4> <ul><li><code>min(num, errorMessage)</code> 最小数组长度</li> <li><code>max(num, errorMessage)</code> 最大数组长度</li> <li><code>length(num, errorMessage)</code> 数组长度</li></ul> <h3 id="错误"><a href="#错误" class="header-anchor">#</a> 错误</h3> <p>tegund 内置了一个<code>ValidateError</code>,  它继承至<code>Error</code>对象</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> ValidateError<span class="token punctuation">,</span> string <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'tegund'</span><span class="token punctuation">)</span>

<span class="token function">string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">instanceof</span> <span class="token class-name">ValidateError</span> <span class="token comment">// true</span>
</code></pre></div><h3 id="自定义类型"><a href="#自定义类型" class="header-anchor">#</a> 自定义类型</h3> <p>任意的类型在经过额外处理后，都会返回一个类型对象，这个对象本身就是一个新的类型。
不过，你可能想要定义一个全局类型，使得在任意位置都可以直接使用。或者，你想使用对象的别名来代替对象。在这种情况下，我们推荐你自定义类型。</p> <p>tegund 内置了一个<code>defineType</code>方法，允许你自定义或者覆盖已有类型：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> defineType<span class="token punctuation">,</span> string <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'tegund'</span><span class="token punctuation">)</span>

<span class="token comment">// create a string type, which length must gte than 10, and named 'longText'</span>
<span class="token keyword">const</span> longText <span class="token operator">=</span> <span class="token function">defineType</span><span class="token punctuation">(</span><span class="token string">'longText'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">// you can use it right now</span>
longText<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span>  <span class="token comment">// false</span>

<span class="token comment">// or use it's alias</span>
<span class="token keyword">const</span> t <span class="token operator">=</span> <span class="token function">object</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  content<span class="token operator">:</span> <span class="token string">'longText'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
t<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><blockquote><p>你必须在类型使用前定义它，即必须放在程序入口处，否则tegund无法找到该对象</p></blockquote> <p>使用<code>defineType</code>还可以覆盖内置的类型，但是不推荐这么做</p> <h2 id="license"><a href="#license" class="header-anchor">#</a> License</h2> <p><a href="https://github.com/aim-leo/tegund/blob/master/LICENSE" target="_blank" rel="noopener noreferrer">MIT<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>Copyright (c) 2021-present aim-leo</p></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/tegund/assets/js/app.db4bd2f9.js" defer></script><script src="/tegund/assets/js/2.6dee3ee0.js" defer></script><script src="/tegund/assets/js/8.66c28c5c.js" defer></script>
  </body>
</html>
